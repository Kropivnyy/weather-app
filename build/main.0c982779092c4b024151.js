(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1DEj":function(e,t,n){},"2mtz":function(e){e.exports=JSON.parse('[{"Sylvia Voirol":"Rainbows apologize for angry skies."},{"Dr. Seuss":"The storm starts, when the drops start dropping. When the drops stop dropping then the storm starts stopping."},{"Mark Twain":"If you don\'t like the weather in New England, just wait a few minutes."},{"Kin Hubbard":"Don\'t knock the weather; nine-tenths of the people couldn\'t start a conversation if it didn\'t change once in a while."},{"John Ruskin":"Sunshine is delicious, rain is refreshing, snow is exhilarating; there is really no such thing as bad weather, only different kinds of good weather."},{"John Steinbeck":"What good is the warmth of summer, without the cold of winter to give it sweetness."},{"Mark Twain":"It is best to read the weather forecast before praying for rain."},{"Terri Guillemets":"Weather is a great metaphor for life â€” sometimes it\'s good, sometimes it\'s bad, and there\'s nothing much you can do about it but carry an umbrella or choose to dance in the rain!"},{"Bill Bowerman":"There\'s no such thing as bad weather, just soft people."},{"George Carlin":"Weather forecast for tonight: dark. "},{"Annie Dillard":"There is a muscular energy in sunlight corresponding to the spiritual energy of wind. "},{"Hugh Kieffer":"Where does the white go when the snow melts?"},{"Rachel Carson":"A rainy day is the perfect time for a walk in the woods."},{"Ranulph Fiennes":"There\'s no such thing as bad weather, only inappropriate clothing"}]')},"9HO5":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var o,i,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,h=e.lambda,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="current-weather__widget js-current-weather">\r\n\t<img class="widget__weather-icon" src="'+u("function"==typeof(i=null!=(i=l(n,"weather")||(null!=t?l(t,"weather"):t))?i:c)?i.call(s,{name:"weather",hash:{},data:r,loc:{start:{line:2,column:40},end:{line:2,column:51}}}):i)+'" alt="cloudy" width="42" height="22" />\r\n\t<h2 class="widget__city">'+u("function"==typeof(i=null!=(i=l(n,"name")||(null!=t?l(t,"name"):t))?i:c)?i.call(s,{name:"name",hash:{},data:r,loc:{start:{line:3,column:26},end:{line:3,column:34}}}):i)+", "+u(h(null!=(o=null!=t?l(t,"sys"):t)?l(o,"country"):o,t))+'</h2>\r\n\t<div class="temperature">\r\n\t\t<p class="temperature__current">'+u(h(null!=(o=null!=t?l(t,"main"):t)?l(o,"temp"):o,t))+'&#176;</p>\r\n\t\t<p class="temperature__min">'+u(h(null!=(o=null!=t?l(t,"main"):t)?l(o,"temp_min"):o,t))+' &#176;</p>\r\n\t\t<p class="temperature__max">'+u(h(null!=(o=null!=t?l(t,"main"):t)?l(o,"temp_max"):o,t))+" &#176;</p>\r\n\t</div>\r\n</div>"},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("JBxO"),n("FdtR"),n("wcNg"),n("1DEj"),n("SUr3"),n("JjHl");var a,r,o=n("2mtz"),i=o[(a=0,r=o.length-1,Math.floor(Math.random()*(r-a+1)+a))],s=Object.keys(i),c=Object.values(i);window.addEventListener("load",(function(){document.querySelector(".citation__text").insertAdjacentText("afterbegin",c),document.querySelector(".citation__author").insertAdjacentText("afterbegin",s)}));n("Muwe"),n("X5mX");var u,h=((u={search:document.querySelector(".search"),searchForm:document.querySelector(".search__form"),formInput:document.querySelector(".form__input"),formAddToFavorites:document.querySelector(".form__add-to-favorites"),formIconStar:document.querySelector(".form__icon-star"),favoritesArrowLeft:document.querySelector(".favorites__arrow-left"),favoritesList:document.querySelector(".favorites__list"),searchFavorites:document.querySelector(".search__favorites"),currentWeather:document.querySelector(".js-current-weather"),forecastToday:document.querySelector(".js-forecast__today-info-position"),sunriseToday:document.querySelector(".today__dawn"),sunsetToday:document.querySelector(".today__sunset"),body:document.querySelector("body"),geoModal:document.querySelector(".geolocation")}).forecastToday=document.querySelector(".forecast__today"),u.forecastFiveDays=document.querySelector(".forecast__five-days"),u.switchDaysBtn=document.querySelector(".switch-days-btn"),u.currentWeather=document.querySelector(".current-weather"),u.citation=document.querySelector(".citation"),u.chartShow=document.querySelector(".chart__show"),u),l={currentDays:"oneDay",changeOnClick:function(e){e.preventDefault(),"A"===e.target.nodeName&&(this.currentDays=e.target.dataset.days,this[this.currentDays]())},oneDay:function(){this.activeAmount("firstElementChild","lastElementChild"),this.renderingAmount("remove")},fiveDays:function(){this.activeAmount("lastElementChild","firstElementChild"),this.renderingAmount()},renderingAmount:function(e){void 0===e&&(e="add"),h.currentWeather.classList[e]("current-weather-disabled"),h.forecastToday.classList[e]("forecast__today-disabled"),h.forecastFiveDays.classList[e]("forecast__five-days-enabled"),h.citation.classList[e]("citation-disabled"),h.search.classList[e]("search-mb-js"),h.chartShow.classList[e]("chart__show-enabled")},activeAmount:function(e,t){var n="switch-days-btn__set-day-btn--active";h.switchDaysBtn[e].classList.add(n),h.switchDaysBtn[t].classList.remove(n)}};h.switchDaysBtn.addEventListener("click",l.changeOnClick.bind(l));n("hi3g"),n("lYjL"),n("RtS0"),n("WB5j"),n("3dw1");var d=n("czhI"),f=n.n(d);function m(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){m(o,a,r,i,s,"next",e)}function s(e){m(o,a,r,i,s,"throw",e)}i(void 0)}))}}f.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/";var y,v,g="c112c800340c3f1ee2fad83b32fe690c",w={searchQuery:"Kyiv",todayResponse:[],fiveDaysResponse:[],fiveDaysResponseCity:[],forecastFiveDays:[],firstDayForecast:[],secondDayForecast:[],thirdDayForecast:[],fourthDayForecast:[],fifthDayForecast:[],fetchTodayWeather:(v=p(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("weather?q="+this.query+"&units=metric&appid="+g);case 3:return t=e.sent,n=t.data,this.todayResponse=n,this.roundTodayTemperature(),this.createIconLink(),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return v.apply(this,arguments)}),fetchFiveDaysWeather:(y=p(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("forecast?q="+this.query+"&units=metric&appid="+g);case 3:t=e.sent,n=t.data,this.fiveDaysResponse=n.list,this.fiveDaysResponseCity=n.city,this.sortResponseOnArrays(),this.getForecastFiveDays(this.firstDayForecast,this.secondDayForecast,this.thirdDayForecast,this.fourthDayForecast,this.fifthDayForecast),this.changeMoreInfoTime([this.firstDayForecast,this.secondDayForecast,this.thirdDayForecast,this.fourthDayForecast,this.fifthDayForecast]),console.log(this.forecastFiveDays),console.log(this.firstDayForecast,this.secondDayForecast,this.thirdDayForecast,this.fourthDayForecast,this.fifthDayForecast),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(){return y.apply(this,arguments)}),roundTodayTemperature:function(){this.todayResponse.main.temp=Math.round(this.todayResponse.main.temp),this.todayResponse.main.temp_min=Math.round(this.todayResponse.main.temp_min),this.todayResponse.main.temp_max=Math.round(this.todayResponse.main.temp_max)},createIconLink:function(){this.todayResponse.weather="https://openweathermap.org/img/w/"+this.todayResponse.weather[0].icon+".png"},sortResponseOnArrays:function(){var e=this,t=this.fiveDaysResponse[0].dt_txt.slice(0,10),n=this.fiveDaysResponse[8].dt_txt.slice(0,10),a=this.fiveDaysResponse[16].dt_txt.slice(0,10),r=this.fiveDaysResponse[24].dt_txt.slice(0,10),o=this.fiveDaysResponse[32].dt_txt.slice(0,10);this.fiveDaysResponse.forEach((function(i){switch(i.dt_txt.slice(0,10)){case t:e.firstDayForecast=e.fiveDaysResponse.filter((function(e){return e.dt_txt.slice(0,10)===t}));break;case n:e.secondDayForecast=e.fiveDaysResponse.filter((function(e){return e.dt_txt.slice(0,10)===n}));break;case a:e.thirdDayForecast=e.fiveDaysResponse.filter((function(e){return e.dt_txt.slice(0,10)===a}));break;case r:e.fourthDayForecast=e.fiveDaysResponse.filter((function(e){return e.dt_txt.slice(0,10)===r}));break;case o:e.fifthDayForecast=e.fiveDaysResponse.filter((function(e){return e.dt_txt.slice(0,10)===o}))}}))},calcMinMaxTemp:function(e){var t=[],n=[];e.forEach((function(e){t=[].concat(t,e.main.temp_min)})),e.forEach((function(e){n=[].concat(n,e.main.temp_max)}));for(var a=t[0],r=n[0],o=1;o<t.length;++o)t[o]<a&&(a=t[o]);for(var i=1;i<n.length;++i)n[i]>r&&(r=n[i]);return{temp_min:a=Math.round(a),temp_max:r=Math.round(r)}},calcDate:function(e){var t=new Date(1e3*e[0].dt);return{month:t.toLocaleString("en-US",{month:"short"}),day:t.toLocaleString("en-US",{weekday:"long"}),date:t.toLocaleString("en-US",{day:"numeric"})}},getForecastFiveDays:function(e,t,n,a,r){this.forecastFiveDays={firstDay:{date:this.calcDate(e),icon:"https://openweathermap.org/img/w/"+e[0].weather[0].icon+".png",temp:this.calcMinMaxTemp(e)},secondDay:{date:this.calcDate(t),icon:"https://openweathermap.org/img/w/"+t[8-e.length].weather[0].icon+".png",temp:this.calcMinMaxTemp(t)},thirdDay:{date:this.calcDate(n),icon:"https://openweathermap.org/img/w/"+n[8-e.length].weather[0].icon+".png",temp:this.calcMinMaxTemp(n)},fourthDay:{date:this.calcDate(a),icon:"https://openweathermap.org/img/w/"+a[8-e.length].weather[0].icon+".png",temp:this.calcMinMaxTemp(a)},fifthDay:{date:this.calcDate(r),icon:"https://openweathermap.org/img/w/"+r[8-e.length].weather[0].icon+".png",temp:this.calcMinMaxTemp(r)}}},changeMoreInfoTime:function(e){e.forEach((function(e){e.forEach((function(e){e.dt_txt=e.dt_txt.slice(11,16)}))}))},get query(){return this.searchQuery},set query(e){return this.searchQuery=e}},D=(n("IvQZ"),n("uQK7"),n("Xlt+"),n("4NM0"),n("kgZ5")),_=n.n(D),b=n("jffb"),S=n.n(b),x={favorites:[],submit:!1,currentCity:null,loader:function(){var e=this;localStorage.getItem("favorites")&&(this.favorites=JSON.parse(localStorage.getItem("favorites")),this.favorites.length>0&&(this.favorites.forEach((function(t){return e.updateItemMarckup(t)})),this.displayFavorites()),h.favoritesList.addEventListener("click",this.onItemClick.bind(this)),h.formInput.addEventListener("input",S()(this.changeIconDefault.bind(this),500)))},formSubmitted:function(e){if(this.submit=e,this.submit){var t=h.formInput.value;this.currentCity=t.toLowerCase(),this.serchInLocalStorage()?this.changeIconOnFavorites():(this.iconClass("active","add"),this.iconClass("in-favorites","remove"),h.formAddToFavorites.disabled=!1,h.formAddToFavorites.addEventListener("click",this.addOnClick.bind(this)))}},addOnClick:function(){this.serchInLocalStorage()||(this.changeIconOnFavorites(),this.favorites.push(this.currentCity),this.updateItemMarckup(this.currentCity),this.rewritingLocalStorage(),this.iconClass("active","remove"),this.displayFavorites())},onItemClick:function(e){if("I"===e.target.nodeName){var t=e.target.parentNode.previousElementSibling.textContent,n=this.favorites.indexOf(t);e.target.parentNode.parentNode.remove(),this.favorites.splice(n),this.rewritingLocalStorage(),h.formInput.value===t&&this.changeIconDefault(),0===h.favoritesList.children.length&&this.displayFavorites("remove",!0)}"A"===e.target.nodeName&&(e.preventDefault(),h.formInput.value=e.target.textContent,this.changeIconOnFavorites())},displayFavorites:function(e,t){void 0===e&&(e="add"),void 0===t&&(t=!1),h.searchFavorites.classList[e]("isset-favorites"),h.favoritesArrowLeft.disabled=t},changeIconOnFavorites:function(){h.formIconStar.innerHTML="star",this.iconClass("in-favorites","add")},changeIconDefault:function(){h.formIconStar.innerHTML="star_border",this.iconClass("in-favorites","remove")},iconClass:function(e,t){h.formIconStar.classList[t](e)},serchInLocalStorage:function(){return this.favorites.includes(this.currentCity)},rewritingLocalStorage:function(){localStorage.setItem("favorites",JSON.stringify(this.favorites))},updateItemMarckup:function(e){h.favoritesList.insertAdjacentHTML("afterbegin",_()(e))}},k=n("9HO5"),F=n.n(k),L=function(e,t){var n;void 0===t&&(t=null),(n=null===t?new Date:new Date(1e3*t)).setTime(n.getTime()+1e3*(60*n.getTimezoneOffset()+e));var a=n.toLocaleString("en-US",{month:"long"}),r=n.toLocaleString("en-US",{weekday:"short"}),o=n.toLocaleString("en-US",{day:"numeric"}),i=n.toLocaleString("en-US",{hour12:!1,hour:"2-digit"}),s=n.toLocaleString("en-US",{minute:"2-digit"}),c=n.toLocaleString("en-US",{second:"2-digit"});return{total:n.getTime(),month:a,day:r,date:o,hours:"24"===i?"0":i,mins:s,secs:c}},R=function(e){var t=document.querySelector(e),n=t.querySelector('[data-value="date"]'),a=t.querySelector('[data-value="suffix"]'),r=t.querySelector('[data-value="day"]'),o=t.querySelector('[data-value="month"]'),i=t.querySelector('[data-value="hours"]');function s(){var e=L(w.todayResponse.timezone);n.textContent=e.date,"1"===e.date||"21"===e.date||"31"===e.date?a.textContent="st":"2"===e.date||"22"===e.date?a.textContent="nd":"3"===e.date||"23"===e.date?a.textContent="rd":a.textContent="th",r.textContent=e.day,o.textContent=e.month,i.textContent=("0"+e.hours).slice(-2)+":"+("0"+e.mins).slice(-2)+":"+("0"+e.secs).slice(-2)}s();setInterval(s,1e3)},I=function(e){var t=L(e.timezone,e.sys.sunrise),n=L(e.timezone,e.sys.sunset);h.sunriseToday.textContent=t.hours+":"+(t.mins<10?"0"+t.mins:t.mins),h.sunsetToday.textContent=n.hours+":"+(n.mins<10?"0"+n.mins:n.mins)},T={background:function(e){var t=this;f.a.get("https://pixabay.com/api?key=16159179-9a5d2f4d64cb4ee75e82dc2d4&q="+e+"&image_type=photo&orientation=horizontal&category=places+travel&per_page=3").then((function(n){var a=n.data.hits[0].largeImageURL;t.backgroundImage(e,"url('"+a+"')")})).catch((function(e){return console.log("not have image(")}))},backgroundImage:function(e,t){0!==e.length?h.body.style.background="linear-gradient(#f5f5f500, #0a0505b3), "+t+" no-repeat center/cover fixed":h.body.style.background="linear-gradient(#f5f5f500, #0a0505b3), url('/images/primary_bg.jpg') no-repeat center/cover fixed"}},C=(n("/YXa"),n("1Qwx"),n("WoWj"),n("U00V"),n("QJ3N")),q=n("voa7");C.defaults.width="300px";var M="",j=Object(C.alert)({title:"Know your location",icon:!1,hide:!1,closer:!1,sticker:!1,destroy:!0,modules:new Map([[q,{confirm:!0}]])});function E(e){var t=e.coords.latitude,n=e.coords.longitude;f.a.get("https://api.opencagedata.com/geocode/v1/json?q="+t+"+"+n+"&key=f90fa88067a545f5a0186799be47863f").then((function(e){M=e.data.results[0].components.city,T.background(M)}))}j.on("pnotify:confirm",(function(){navigator.geolocation.getCurrentPosition(E)})),j.on("pnotify:cancel",(function(){T.background("kyiv")}));function O(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){O(o,a,r,i,s,"next",e)}function s(e){O(o,a,r,i,s,"throw",e)}i(void 0)}))}}x.loader(),w.fetchTodayWeather().then((function(){var e=F()(w.todayResponse);h.currentWeather.innerHTML=e,R("#timer-1"),I(w.todayResponse)})),h.switchDaysBtn.addEventListener("click",function(){var e=A(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w.query=h.formInput.value.toLowerCase(),e.next=4,w.fetchFiveDaysWeather();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h.searchForm.addEventListener("submit",function(){var e=A(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),w.query=h.formInput.value.toLowerCase(),e.next=5,w.fetchTodayWeather();case 5:x.formSubmitted(!0),n=F()(w.todayResponse),h.currentWeather.innerHTML=n,R("#timer-1"),I(w.todayResponse),T.background(h.formInput.value),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())},kgZ5:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var o=e.lambda,i=e.escapeExpression;return'<li class="favorites__item">\r\n    <a href="'+i(o(t,t))+'" class="favorites__link">'+i(o(t,t))+'</a>\r\n    <button type="button" class="favorites__remove">\r\n        <i class="material-icons">close</i>\r\n        <span class="visually-hidden">Remove from favorites</span>\r\n    </button>\r\n</li>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.0c982779092c4b024151.js.map